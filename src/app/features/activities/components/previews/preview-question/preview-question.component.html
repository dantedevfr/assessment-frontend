<div
  class="question-grid"
  [ngStyle]="{
    'grid-template-columns': getGridTemplateColumns(),
    'gap.px': layoutConfig.gridGap || 12,
    'padding.px': layoutConfig.padding || 0,
    'background-color': layoutConfig.backgroundColor || '#f8f9fa'
  }"
>
  <ng-container *ngFor="let block of layoutConfig.blocks">
    <div
      class="block"
      [ngStyle]="getBlockGridStyle(block)"
      [ngClass]="getBlockClasses(block)"
    >
      <div class="preview-box">
        <strong>{{ block.type.toUpperCase() }}</strong>
        <div [innerHTML]="getBlockContent(block)"></div>
      </div>
    </div>
  </ng-container>
</div>


<!-- ⚙️ Configuración general del grid -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 bg-white p-4 rounded shadow">
  <div>
    <label class="block mb-1 font-medium">Grid Columns</label>
    <input type="number" class="p-2 border rounded w-full"
           [(ngModel)]="layoutConfig.gridColumns"
           (ngModelChange)="updateConfig()" min="1" max="24" />
  </div>

  <div>
    <label class="block mb-1 font-medium">Grid Gap (px)</label>
    <input type="number" class="p-2 border rounded w-full"
           [(ngModel)]="layoutConfig.gridGap"
           (ngModelChange)="updateConfig()" />
  </div>

  <div>
    <label class="block mb-1 font-medium">Padding (px)</label>
    <input type="number" class="p-2 border rounded w-full"
           [(ngModel)]="layoutConfig.padding"
           (ngModelChange)="updateConfig()" />
  </div>

  <div>
    <label class="block mb-1 font-medium">Background Color</label>
    <input type="color" class="w-full h-10"
           [(ngModel)]="layoutConfig.backgroundColor"
           (ngModelChange)="updateConfig()" />
  </div>
</div>

<!-- 🧩 Edición de cada bloque -->
<div class="mb-6 space-y-4">
  <div *ngFor="let block of layoutConfig.blocks" class="p-4 border rounded bg-gray-50">
    <h4 class="font-semibold mb-2">{{ block.type.toUpperCase() }} ({{ block.id }})</h4>

    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
      <div>
        <label class="block text-sm">Col Start</label>
        <input type="number" class="p-1 border rounded w-full"
               [(ngModel)]="block.position.colStart"
               (ngModelChange)="updateConfig()" />
      </div>

      <div>
        <label class="block text-sm">Col Span</label>
        <input type="number" class="p-1 border rounded w-full"
               [(ngModel)]="block.position.colSpan"
               (ngModelChange)="updateConfig()" />
      </div>

      <div>
        <label class="block text-sm">Row Start</label>
        <input type="number" class="p-1 border rounded w-full"
               [(ngModel)]="block.position.rowStart"
               (ngModelChange)="updateConfig()" />
      </div>

      <div>
        <label class="block text-sm">Row Span</label>
        <input type="number" class="p-1 border rounded w-full"
               [(ngModel)]="block.position.rowSpan"
               (ngModelChange)="updateConfig()" />
      </div>

      <div>
        <label class="block text-sm">Align Self</label>
        <select class="p-1 border rounded w-full"
        [(ngModel)]="getBlockStyle(block).alignSelf"
        (ngModelChange)="updateConfig()">
  <option *ngFor="let a of selfAligns" [value]="a">{{ a }}</option>
</select>
      </div>

      <div>
        <label class="block text-sm">Width</label>
        <select class="p-1 border rounded w-full"
        [(ngModel)]="getBlockStyle(block).width"
        (ngModelChange)="updateConfig()">
  <option *ngFor="let w of widths" [value]="w">{{ w }}</option>
</select>
      </div>
    </div>
  </div>
</div>


